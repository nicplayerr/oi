{% extends "base.html" %}
{% block title %}Create VPS{% endblock %}
{% block content %}
<div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-2xl font-bold mb-4 text-center">Create New VPS</h2>
    <form method="POST" action="{{ url_for('create_vps') }}">
        {% if is_admin %}
        <div class="mb-4">
            <label for="user_id" class="block text-gray-700">Select User</label>
            <select id="user_id" name="user_id" class="w-full p-2 border rounded">
                {% for user in users %}
                    <option value="{{ user.id }}">{{ user.username }}</option>
                {% endfor %}
            </select>
        </div>
        {% endif %}
        <div class="mb-4">
            <label for="os_image" class="block text-gray-700">Operating System</label>
            <select id="os_image" name="os_image" class="w-full p-2 border rounded">
                {% for os in os_images %}
                    <option value="{{ os }}">{{ os }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-4">
            <label for="user_id" class="block text-gray-700">Select User</label>
            <select id="user_id" name="user_id" class="w-full p-2 border rounded">
                {% for user in users %}
                    <option value="{{ user.id }}">{{ user.username }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-4">
            <label for="memory" class="block text-gray-700">Memory (GB)</label>
            <input type="number" id="memory" name="memory" value="1" min="1" max="512" class="w-full p-2 border rounded" required>
        </div>
        <div class="mb-4">
            <label for="cpu" class="block text-gray-700">CPU Cores</label>
            <input type="number" id="cpu" name="cpu" value="1" min="1" max="32" class="w-full p-2 border rounded" required>
        </div>
        <div class="mb-4">
            <label for="disk" class="block text-gray-700">Disk Space (GB)</label>
            <input type="number" id="disk" name="disk" value="10" min="10" max="1000" class="w-full p-2 border rounded" required>
        </div>
        
        <!-- Expiration Time Section -->
        <div class="mb-4">
            <label class="block text-gray-700 mb-2">Expiration Time</label>
            <div class="grid grid-cols-3 gap-2">
                <div>
                    <label for="expires_days" class="block text-sm text-gray-600">Days</label>
                    <input type="number" id="expires_days" name="expires_days" value="30" min="0" max="365" 
                           class="w-full p-2 border rounded" placeholder="Days">
                </div>
                <div>
                    <label for="expires_hours" class="block text-sm text-gray-600">Hours</label>
                    <input type="number" id="expires_hours" name="expires_hours" value="0" min="0" max="23" 
                           class="w-full p-2 border rounded" placeholder="Hours">
                </div>
                <div>
                    <label for="expires_minutes" class="block text-sm text-gray-600">Minutes</label>
                    <input type="number" id="expires_minutes" name="expires_minutes" value="0" min="0" max="59" 
                           class="w-full p-2 border rounded" placeholder="Minutes">
                </div>
            </div>
            <small class="text-gray-500 text-sm">Set how long the VPS should remain active (max 365 days)</small>
        </div>
        
        <button type="submit" class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700">Create VPS</button>
    </form>
</div>
{% endblock %}